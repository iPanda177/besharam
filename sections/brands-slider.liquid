<style>
  .brands-slider__wrapper {
    position: relative;
  }

  .brands-slider__container {
    padding: 0 !important;
    position: absolute;
    top: -620px;
    left: 0;
    right: 0;
  }

  .brands-slider__title {
    font-family: 'Quicksand', sans-serif;
    font-weight: 700;
    font-size: 75px;
    line-height: 71px;
    color: rgba(255, 255, 255, 0.2);
    text-transform: uppercase;
    text-align: center;
  }

  .brands__slide {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 40px;
    height: 100%;
  }

  .brands__button {
    width: auto;
  }

  .swiper-button-next::after,
  .swiper-button-prev::after {
    content: ''
  }

  .swiper-pagination .swiper-pagination-bullet-active {
    background: #d9d9d9 !important;
    width: 37px !important;
    border-radius: 50px;
  }

 .swiper-pagination .swiper-pagination-bullet {
    width: 7px;
    height: 7px;
    background: #444649;
    -webkit-transition: all .5s ease-in-out;
    -o-transition: all .5s ease-in-out;
    transition: all .5s ease-in-out;
    opacity: 1;
  }

  .brands-pagination {
    margin-top: 15px;
    bottom: auto !important;
  }

  .swiper-button-next.brands__button {
    right: var(--swiper-navigation-sides-offset,0px)!important;
  }

  .swiper-button-prev.brands__button {
    left: var(--swiper-navigation-sides-offset,0px)!important;
  }

  @media (max-width: 768px) {
    .brands-slider__container {
      padding: 0 1.5rem !important;
      top: -320px;
    }

    .brands-slider__title {
      font-size: 40px;
      line-height: 95px;
    }

    .brands__button {
      display: none;
    }
  }
</style>

<div class="brands-slider__wrapper">
  <div class="brands-slider__container page-width">
    <div class="brands-slider__header">
      {% if section.settings.section_title != blank %}
        <h2 class="brands-slider__title">{{ section.settings.section_title }}</h2>
      {% endif %}
    </div>
    <div class="swiper">
      <div class="swiper-wrapper">
        {% for slide in section.blocks %}
          <div class="swiper-slide brands__slide">
            {% if slide.settings.first_image != blank %}
              <a href="{{ slide.settings.first_link }}">
                <img
                  srcset="{%- if slide.settings.first_image.width >= 165 -%}
                  {{ slide.settings.first_image | image_url: width: 165 }} 165w,{%- endif -%}
                {%- if slide.settings.first_image.width >= 360 -%}
                  {{ slide.settings.first_image | image_url: width: 360 }} 360w,{%- endif -%}
                {%- if slide.settings.first_image.width >= 535 -%}
                  {{ slide.settings.first_image | image_url: width: 535 }} 535w,{%- endif -%}
                {%- if slide.settings.first_image.width >= 750 -%}
                  {{ slide.settings.first_image | image_url: width: 750 }} 750w,{%- endif -%}
                {%- if slide.settings.first_image.width >= 1070 -%}
                  {{ slide.settings.first_image | image_url: width: 1070 }} 1070w,{%- endif -%}
                {%- if slide.settings.first_image.width >= 1500 -%}
                  {{ slide.settings.first_image | image_url: width: 1500 }} 1500w,{%- endif -%}
                {{ slide.settings.first_image | image_url }} {{ slide.settings.first_image.width }}w"
                src="{{ slide.settings.first_image  | img_url: "768x" }}"
                alt="{{ slide.settings.first_image.alt | escape }}"
                loading="lazy"
                width="{{ slide.settings.first_image.width }}"
                height="{{ slide.settings.first_image.height }}">
              </a>
            {% endif %}

            {% if slide.settings.second_image != blank %}
              <a href="{{ slide.settings.second_link }}">
                <img
                  srcset="{%- if slide.settings.second_image.width >= 165 -%}
                  {{ slide.settings.second_image | image_url: width: 165 }} 165w,{%- endif -%}
                {%- if slide.settings.second_image.width >= 360 -%}
                  {{ slide.settings.second_image | image_url: width: 360 }} 360w,{%- endif -%}
                {%- if slide.settings.second_image.width >= 535 -%}
                  {{ slide.settings.second_image | image_url: width: 535 }} 535w,{%- endif -%}
                {%- if slide.settings.second_image.width >= 750 -%}
                  {{ slide.settings.second_image | image_url: width: 750 }} 750w,{%- endif -%}
                {%- if slide.settings.second_image.width >= 1070 -%}
                  {{ slide.settings.second_image | image_url: width: 1070 }} 1070w,{%- endif -%}
                {%- if slide.settings.second_image.width >= 1500 -%}
                  {{ slide.settings.second_image | image_url: width: 1500 }} 1500w,{%- endif -%}
                {{ slide.settings.second_image | image_url }} {{ slide.settings.second_image.width }}w"
                src="{{ slide.settings.second_image  | img_url: "768x" }}"
                alt="{{ slide.settings.second_image.alt | escape }}"
                loading="lazy"
                width="{{  slide.settings.second_image.width }}"
                height="{{  slide.settings.second_image.height }}">
              </a>
            {% endif %}

            {% if slide.settings.third_image != blank %}
              <a href="{{ slide.settings.third_link }}">
                <img
                  srcset="{%- if slide.settings.third_image.width >= 165 -%}
                  {{ slide.settings.third_image | image_url: width: 165 }} 165w,{%- endif -%}
                {%- if slide.settings.third_image.width >= 360 -%}
                  {{ slide.settings.third_image | image_url: width: 360 }} 360w,{%- endif -%}
                {%- if slide.settings.third_image.width >= 535 -%}
                  {{ slide.settings.third_image | image_url: width: 535 }} 535w,{%- endif -%}
                {%- if slide.settings.third_image.width >= 750 -%}
                  {{ slide.settings.third_image | image_url: width: 750 }} 750w,{%- endif -%}
                {%- if slide.settings.third_image.width >= 1070 -%}
                  {{ slide.settings.third_image | image_url: width: 1070 }} 1070w,{%- endif -%}
                {%- if slide.settings.third_image.width >= 1500 -%}
                  {{ slide.settings.third_image | image_url: width: 1500 }} 1500w,{%- endif -%}
                {{ slide.settings.third_image | image_url }} {{ slide.settings.third_image.width }}w"
                src="{{ slide.settings.third_image  | img_url: "768x" }}"
                alt="{{ slide.settings.third_image.alt | escape }}"
                loading="lazy"
                width="{{  slide.settings.third_image.width }}"
                height="{{  slide.settings.third_image.height }}">
              </a>
            {% endif %}
          </div>
        {% endfor %}
      </div>
      <div class="swiper-button-prev brands__button">
        <svg width="53" height="53" viewBox="0 0 53 53" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="52.0322" width="52.0322" height="52.0322" rx="26.0161" transform="rotate(90 52.0322 0)" fill="#26282C"/>
          <path d="M27.3169 19.5121L20.8129 26.0161L27.3169 32.5201" stroke="white" stroke-width="1.30081" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>             
      </div>
      <div class="swiper-button-next brands__button">
        <svg width="53" height="53" viewBox="0 0 53 53" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.0322266" y="52.0322" width="52.0322" height="52.0322" rx="26.0161" transform="rotate(-90 0.0322266 52.0322)" fill="#26282C"/>
          <path d="M24.7476 32.5201L31.2516 26.0161L24.7476 19.5121" stroke="white" stroke-width="1.30081" stroke-linecap="round" stroke-linejoin="round"/>
        </svg> 
      </div>
    </div>
    <div class="swiper-pagination brands-pagination"></div>
  </div>
</div>
<script>
  const section_scripts_{{ section.id | replace: "-", "_" | replace: "--", "_" }} = {
    section: document.querySelector("#shopify-section-{{ section.id }}"),
    init() {
      this.slider = new Swiper(this.section.querySelector(".swiper"), {
        speed: 400,
        breakpoints: { // when window width is >= 320px
          320: {
            slidesPerView: 2,
            spaceBetween: 6
          },

// when window width is >= 480px
          360: {
            slidesPerView: 2,
            spaceBetween: 6
          },

// when window width is >= 640px
          768: {
            slidesPerView: 3,
            spaceBetween: 16
          },
          1110: {
            slidesPerView: 5,
            spaceBetween: 16
          }
        },
        pagination: {
          el: this.section.querySelector('.swiper-pagination'),
          clickable: true
        },

// Navigation arrows
        navigation: {
          nextEl: this.section.querySelector('.swiper-button-next'),
          prevEl: this.section.querySelector('.swiper-button-prev')
        }

      });
    }
  }
  document.addEventListener("DOMContentLoaded", () => {
    section_scripts_{{ section.id | replace: "-", "_" | replace: "--", "_" }}.init()
  })
</script>

{% schema %}
  {
    "name": "Brands Slider",
    "tag": "section",
    "settings": [
      {
        "type": "text",
        "id": "section_title",
        "label": "Title",
        "default": "Featured In"
      }
    ],
    "blocks": [
      {
        "name": "Slide",
        "type": "slide",
        "settings": [
          {
            "type": "image_picker",
            "id": "first_image",
            "label": "First brand image"
          },
          {
            "type": "url",
            "id": "first_link",
            "label": "First brand link"
          },
          {
            "type": "image_picker",
            "id": "second_image",
            "label": "Second brand image"
          },
          {
            "type": "url",
            "id": "second_link",
            "label": "Second brand link"
          }, {
            "type": "image_picker",
            "id": "third_image",
            "label": "Third brand image"
          }, {
            "type": "url",
            "id": "third_link",
            "label": "Third brand link"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Brands Slider"
      }
    ]
  }
{% endschema %}